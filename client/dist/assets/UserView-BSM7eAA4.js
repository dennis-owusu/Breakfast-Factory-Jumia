import{a0 as p,A as u,r as m,j as s,c as f,a1 as j,f as n,e as N}from"./index-CW7sJ-MG.js";import{S as y}from"./square-pen-C0ENrl1l.js";const U=()=>{const{id:a}=p(),d=u(),[e,c]=m.useState(null),[x,o]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const r=localStorage.getItem("token"),l=await fetch(`/api/auth/get-all-users?id=${a}`,{headers:{Authorization:`Bearer ${r}`}});if(!l.ok)throw new Error("Failed to fetch user");const i=(await l.json()).allUsers.find(h=>h._id===a);if(!i)throw new Error("User not found");c(i)}catch(r){N.error(r.message)}finally{o(!1)}})()},[a]);const g=t=>{switch(t){case"admin":return"Admin";case"outlet":return"Outlet Owner";case"user":return"Customer";default:return t?t.charAt(0).toUpperCase()+t.slice(1):"Unknown"}};return x?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx(f,{size:"lg"})}):e?s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>d("/admin/users"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[s.jsx(j,{className:"h-5 w-5 mr-2"}),"Back to Users"]}),s.jsxs("button",{onClick:()=>d(`/admin/users/${a}/edit`),className:"flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:[s.jsx(y,{className:"h-4 w-4 mr-2"}),"Edit User"]})]}),s.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[s.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"User Information"}),s.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Personal details and account information."})]}),s.jsx("div",{className:"border-t border-gray-200",children:s.jsxs("dl",{children:[s.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Full name"}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e.name})]}),s.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email address"}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e.email})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Phone number"}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e.phoneNumber||"Not provided"})]}),s.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Role"}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:g(e.usersRole)})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${e.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]}),e.usersRole==="outlet"&&e.storeName&&s.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Store name"}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e.storeName})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Joined date"}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:n(e.createdAt)})]}),s.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Last login"}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e.lastLogin?n(e.lastLogin):"Never"})]})]})})]})]}):s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-red-700",children:"User not found"})})]})})})};export{U as default};
